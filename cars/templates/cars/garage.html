{% extends 'base.html' %}

{% block title %}Mój Garaż{% endblock %}

{% block content %}

<div class="row align-items-center mb-4 animate-fade-in">
    <div class="col-6">
        <h2 class="fw-bold mb-0"><i class="bi bi-car-front-fill text-primary me-2"></i>Garaż</h2>
    </div>
    <div class="col-6 text-end">
        <a href="{% url 'cars:add_car' %}" class="btn btn-primary rounded-pill px-4 shadow-sm">
            <i class="bi bi-plus-lg"></i> Dodaj Auto
        </a>
    </div>
</div>

<div class="row g-4 animate-fade-in-up">
    {% for car in cars %}
    <div class="col-md-6 col-lg-4">
        <div class="card border-0 shadow-sm action-card h-100 transition-hover">
            <div class="card-body p-4 text-center">
                <div class="icon-box bg-primary-subtle text-primary mx-auto mb-3 rounded-circle" style="width: 80px; height: 80px; display: flex; align-items: center; justify-content: center;">
                    <i class="bi bi-car-front fs-1"></i>
                </div>
                
                <h4 class="fw-bold mb-1">{{ car.brand }} {{ car.model }}</h4>
                <p class="text-muted small mb-3">{{ car.year }} • {{ car.fuel_type }}</p>
                
                <div class="d-flex justify-content-center gap-2 mb-4">
                    <span class="badge text-dark border">
                        <i class="bi bi-speedometer2 me-1"></i> {{ car.odometer }} km
                    </span>
                </div>

                <a href="{% url 'cars:dashboard' car.id %}" class="btn btn-outline-primary w-100 rounded-pill fw-bold stretched-link">
                    Otwórz Kokpit
                </a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12 text-center py-5">
        <i class="bi bi-p-circle text-muted fs-1 opacity-25"></i>
        <p class="text-muted mt-3">Garaż jest pusty. Dodaj swój pierwszy samochód.</p>
        <a href="{% url 'cars:add_car' %}" class="btn btn-sm btn-primary rounded-pill mt-2">Dodaj teraz</a>
    </div>
    {% endfor %}
</div>
{% endblock %}